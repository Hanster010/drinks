<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Edge Rooftop ‚Ä¢ Drink Finder (refined)</title>
<style>
  :root{
    --bg:#FFF8EE;--card:#FFFFFF;--ink:#1A1612;--muted:#756a5e;
    --brand:#EA8E68;--brand-2:#5CC1B5;--accent:#F3C99D;
    --border:#EADFD0;--shadow:0 10px 26px rgba(0,0,0,.08);
    --r:18px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    color:var(--ink);
    background:linear-gradient(180deg,var(--bg),#fff);
    font-size:18px; /* bigger base */
    line-height:1.35;
  }
  .app{max-width:520px;margin:0 auto;min-height:100svh;display:flex;flex-direction:column}
  header{position:sticky;top:0;background:rgba(255,255,255,.88);backdrop-filter:blur(8px);border-bottom:1px solid var(--border);z-index:5}
  .brand{display:flex;align-items:center;gap:.7rem;padding:16px}
  .logo{width:30px;height:30px;border-radius:10px;background:conic-gradient(from 210deg,var(--brand),var(--accent));box-shadow:var(--shadow)}
  .title{font-weight:800;font-size:20px}
  .subtitle{font-size:13px;color:var(--muted)}
  main{flex:1;padding:18px 14px 28px}
  .card{background:#fff;border:1px solid var(--border);border-radius:var(--r);box-shadow:var(--shadow);padding:18px}
  .hero{ text-align:center; padding:22px 16px; background:
        radial-gradient(130px 70px at 85% -10%,rgba(234,142,104,.18),transparent 60%),
        radial-gradient(160px 80px at -10% 0,rgba(92,193,181,.18),transparent 60%), #fff;
        border:1px dashed var(--border); border-radius:var(--r);}
  .pill{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--border);padding:.5rem .8rem;border-radius:999px;font-size:13px;color:var(--muted);background:#fff}
  .cta{margin-top:14px;display:grid;gap:10px;grid-template-columns:1fr 1fr}
  button{appearance:none;border:0;border-radius:14px;padding:16px;font-weight:800;background:var(--brand);color:#fff;box-shadow:var(--shadow);cursor:pointer;transition:transform .08s ease}
  button:active{transform:scale(.98)}
  button.secondary{background:#fff;color:var(--ink);border:1px solid var(--border)}
  .progress{height:10px;background:#F3E7D8;border-radius:999px;overflow:hidden;margin:12px 0}
  .fill{height:100%;width:0;background:linear-gradient(90deg,var(--brand),var(--brand-2));transition:width .45s cubic-bezier(.22,.61,.36,1)}
  .topbar{display:flex;align-items:center;gap:10px}
  .q-title{font-weight:900;font-size:22px}
  .meta{font-size:14px;color:var(--muted)}
  .chips{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px}
  .chip{padding:12px 16px;border-radius:999px;border:1px solid var(--border);background:#fff;font-weight:700;cursor:pointer}
  .chip[data-active="true"]{background:var(--brand);color:#fff;border-color:var(--brand)}
  .tiles{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
  .tile{border:1px solid var(--border);border-radius:14px;padding:16px;display:flex;flex-direction:column;gap:8px;align-items:flex-start;background:#fff;cursor:pointer}
  .tile strong{font-size:18px}
  .tile[data-active="true"]{outline:3px solid var(--brand);background:#fff7f1}
  .nav{display:flex;gap:10px;margin-top:16px}
  .result{display:flex;gap:14px;align-items:flex-start;border:1px solid var(--border);padding:14px;border-radius:14px;background:#fff}
  .avatar{width:52px;height:52px;border-radius:12px;background:radial-gradient(60px 40px at 70% 20%, rgba(234,142,104,.5), transparent 60%), #FFEFE4;display:grid;place-items:center;font-weight:800}
  .badge{font-size:12px;border:1px solid var(--border);padding:4px 8px;border-radius:999px}
  .price{font-weight:900}
  .scorebar{height:8px;background:#F3E7D8;border-radius:999px;overflow:hidden}
  .scorebar > span{display:block;height:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2))}
  .menu-link{display:block;text-align:center;margin-top:12px;font-weight:800;color:#2d615a;text-decoration:none}
  .slideIn{animation:slideIn .28s cubic-bezier(.22,.61,.36,1)}
  @keyframes slideIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
  /* Bigger slider */
  input[type="range"]{width:100%;height:36px;-webkit-appearance:none;background:transparent;margin-top:8px}
  input[type="range"]::-webkit-slider-runnable-track{height:12px;background:#f0e6da;border-radius:999px;border:1px solid var(--border)}
  input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;margin-top:-10px;width:32px;height:32px;border-radius:50%;background:linear-gradient(180deg,#fff,#f7f2eb);border:2px solid var(--brand);box-shadow:0 4px 10px rgba(0,0,0,.15)}
  input[type="range"]::-webkit-slider-thumb{width:30px;height:30px;border-radius:50%;background:#fff;border:2px solid var(--brand)}
  /* dots */
  #dots{display:flex;gap:8px}
  #dots .dot{width:28px;height:28px;border-radius:999px;border:1px solid var(--border);background:#fff;display:grid;place-items:center;font-weight:800;cursor:pointer}
  #dots .dot[data-active="true"]{background:var(--brand);color:#fff;border-color:var(--brand)}
  /* confetti + toast */
  #confetti{position:fixed;inset:0;pointer-events:none}
  .toast{position:fixed;left:50%;bottom:16px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:999px;font-size:14px;opacity:0;transition:opacity .25s, transform .25s;z-index:50}
  .toast.show{opacity:1;transform:translate(-50%, -4px)}
</style>
</head>
<body>
<canvas id="confetti"></canvas>
<div class="toast" id="toast">Tip: swipe ‚ü∂ Next, ‚üµ Back</div>

<div class="app" id="app">
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div class="title">Edge Rooftop</div>
        <div class="subtitle">Drink Finder ‚Ä¢ simplified interactions</div>
      </div>
    </div>
  </header>

  <main>
    <!-- Landing -->
    <section id="landing" class="grid">
      <div class="hero card slideIn">
        <div class="pill">üçπ Fresh-squeezed ‚Ä¢ Handcrafted</div>
        <h2 style="margin:10px 0 6px;font-size:24px">What are you in the mood for?</h2>
        <p class="meta">Answer a few quick questions and we‚Äôll suggest a drink you‚Äôll love.</p>
        <div class="cta">
          <button id="start">Start</button>
          <button class="secondary" id="skip">Skip to menu</button>
        </div>
      </div>
    </section>

    <!-- Wizard -->
    <section id="wizard" class="hidden">
      <div class="topbar">
        <div class="progress" style="flex:1"><div class="fill" id="prog"></div></div>
        <div id="dots"></div>
      </div>

      <div class="card slideIn" id="qCard">
        <div class="q-title" id="qTitle">Question</div>
        <div id="qBody"></div>

        <div id="peek" class="card" style="margin-top:12px;background:#fff7ed;border-style:dashed">
          <div class="meta">Live preview</div>
          <div id="peekBody" class="meta">Pick a couple options to see a suggestion‚Ä¶</div>
        </div>

        <div class="nav">
          <button class="secondary" id="back">Back</button>
          <button id="next">Next</button>
        </div>
      </div>
    </section>

    <!-- Results -->
    <section id="results" class="hidden">
      <div class="card slideIn">
        <div class="q-title">Your picks</div>
        <div id="why" class="meta" style="margin-bottom:6px"></div>
        <div id="whyChips" class="chips" style="margin-top:0"></div>
        <div id="cards" class="grid" style="margin-top:8px"></div>
        <a href="#" id="fullMenu" class="menu-link">View full menu</a>
      </div>
    </section>

    <!-- Menu -->
    <section id="menu" class="hidden">
      <div class="card slideIn">
        <div class="q-title">Full Menu (mock)</div>
        <div class="chips" id="tabs"></div>
        <div id="menuList" class="grid" style="margin-top:12px"></div>
      </div>
    </section>
  </main>

  <footer style="padding:12px;text-align:center" class="meta">Prototype mockup ¬∑ not affiliated with Edge Rooftop</footer>
</div>

<script>
(function(){
  const $=s=>document.querySelector(s);
  const vibrate=(ms=12)=>{try{navigator.vibrate&&navigator.vibrate(ms)}catch(e){}};

  // ---- DATA (same as before) ----------------------------------------------
  const MENU={
    cocktails:[
      {name:"Texas Sipper",price:16,tags:["vodka","citrus","light","bubbly","refreshing"],desc:"tito‚Äôs, elderflower, blood orange pur√©e, Topo Chico"},
      {name:"Signature Old Fashioned",price:18,tags:["whiskey","stirred","spirit-forward","classic","bitters"],desc:"Maker‚Äôs Mark, vanilla demerara, black walnut bitters"},
      {name:"Sunny Disposition",price:18,tags:["whiskey","citrus","fruit","bright"],desc:"rye, hennessy VS, blueberry, coconut, lemon"},
      {name:"Southern Belle",price:16,tags:["gin","citrus","herbal","bubbly"],desc:"Gray Whale gin, prickly pear & mint cordial, lime, yuzu soda"},
      {name:"Zilker Mule",price:16,tags:["vodka","ginger","citrus","refreshing","bubbly"],desc:"Haku vodka, mango soju cordial, lime, ginger beer"},
      {name:"Soco Marg",price:16,tags:["tequila","citrus","salt","classic"],desc:"tequila, orange, watermelon agave, lime"},
      {name:"One Flew South",price:18,tags:["mezcal","bitter","citrus","smoky"],desc:"El Tesoro, Ilegal mezcal, Suze, passionfruit, lime"},
      {name:"2nd Street Espresso Martini",price:18,tags:["vodka","coffee","sweet","creamy"],desc:"vodka, espresso liqueur, vanilla, espresso"},
      {name:"Mama Tried (Frozen)",price:15,tags:["vodka","frozen","slushy","sweet","fun"],desc:"lemon vodka, moscato, peach pur√©e, lemon"},
      {name:"El Mexicano Margarita",price:16,tags:["tequila","spicy","citrus"],desc:"jalape√±o-infused agave cordial, lime & orange"},
      {name:"Pocketful of Sunshine (NA)",price:14,tags:["na","citrus","mint","bubbly"],desc:"Ritual NA tequila, prickly pear & mint, lime, yuzu"},
      {name:"Dragon Berry Specialty (N/A)",price:12,tags:["na","tropical","sweet"],desc:"lime, orange, pineapple, dragon fruit"}
    ],
    draft:[
      {name:"ABW Pearl Snap Pilsner",price:9,tags:["beer","lager","crisp"]},
      {name:"ABW 701 Sun IPA",price:9,tags:["beer","ipa","hoppy"]},
      {name:"Zilker Icy Boys Lager",price:9,tags:["beer","lager","light"]},
      {name:"Zilker Parks & Rec Pale Ale",price:9,tags:["beer","pale","hoppy"]}
    ],
    canned:[
      {name:"Miller Light",price:8,tags:["beer","lager","light"]},
      {name:"Michelob Ultra",price:8,tags:["beer","lager","light"]},
      {name:"Live Oak Hefeweizen",price:8,tags:["beer","wheat","banana"]},
      {name:"Best Day K√∂lsch (N/A)",price:8,tags:["na","beer","kolsch"]},
      {name:"ABW Fire Eagle IPA",price:8,tags:["beer","ipa","hoppy"]},
      {name:"High Noon Black Cherry",price:8,tags:["seltzer","fruit","bubbly"]}
    ],
    wineRed:[
      {name:"Clos Du Bois Cabernet",price:14,priceBottle:56,tags:["wine","red","cabernet","smooth"]},
      {name:"Juggernaut Cabernet",price:19,priceBottle:76,tags:["wine","red","cabernet","bold"]},
      {name:"Tapiz Malbec",price:15,priceBottle:60,tags:["wine","red","malbec"]},
      {name:"Fossil Point Pinot Noir",price:14,priceBottle:56,tags:["wine","red","pinot"]},
      {name:"Banshee Red Blend",price:14,priceBottle:56,tags:["wine","red","blend"]}
    ],
    wineWhite:[
      {name:"Clos Du Bois Chardonnay",price:14,priceBottle:56,tags:["wine","white","chardonnay","buttery"]},
      {name:"Stags Leap Chardonnay",price:19,priceBottle:76,tags:["wine","white","chardonnay","rich"]},
      {name:"Scarpetta Pinot Grigio",price:14,priceBottle:56,tags:["wine","white","pinotgrigio","crisp"]},
      {name:"Whitehaven Sauvignon Blanc",price:15,priceBottle:60,tags:["wine","white","sauvblanc","zesty"]}
    ],
    bubbles:[
      {name:"Bisol Jeio Prosecco",price:14,priceBottle:56,tags:["wine","sparkling","prosecco","bubbly"]},
      {name:"Veuve Clicquot",price:150,tags:["wine","sparkling","champagne","celebration"]},
      {name:"Chandon Garden Spritz",price:17,priceBottle:68,tags:["wine","sparkling","spritz","bitter"]},
      {name:"Whispering Angel Ros√©",price:19,priceBottle:76,tags:["wine","rose","dry","light"]}
    ]
  };
  const ALL_DRINKS=[...MENU.cocktails,...MENU.draft,...MENU.canned,...MENU.wineRed,...MENU.wineWhite,...MENU.bubbles];

  // ---- QUESTIONS (updated types) ------------------------------------------
  const QUESTIONS=[
    { id:"mood", title:"Pick a vibe", type:"tiles", single:true, options:[
      {v:"refreshing", note:"citrus, bubbly, light", emoji:"üçã"},
      {v:"cozy",       note:"whiskey, stirred, espresso", emoji:"üß£"},
      {v:"fun",        note:"frozen, fruity, sweet", emoji:"üéâ"},
      {v:"adventurous",note:"mezcal, bitter, spicy", emoji:"üß≠"},
      {v:"classic",    note:"old fashioneds, margs, prosecco", emoji:"üé©"},
      {v:"zero-proof", note:"NA spirits, mint, yuzu", emoji:"ü´ß"},
    ], required:true },

    { id:"base", title:"Choose your base (up to 3)", type:"chips", multi:true, max:3,
      options:["vodka","tequila","whiskey","gin","mezcal","beer","wine","seltzer","na"], required:true },

    { id:"taste", title:"Pick up to 3 tastes", type:"chips", multi:true, max:3,
      options:["citrus","sweet","bitter","spicy","herbal","coffee","bubbly","fruit"] },

    { id:"strength", title:"How strong?", type:"slider", range:["light","balanced","spirit-forward"], required:true },

    { id:"extras", title:"Any hard no's? (tap to toggle)", type:"chips", multi:true, options:["no coffee","no spicy","no bubbles","no bitter","no sweet"] }
  ];

  // ---- APP -----------------------------------------------------------------
  const App={n... (file continues)
        <div>
          <b>Smart Match</b><div class="meta">We score each drink and explain why it fits.</div>
        </div>
      </div>
    </section>

    <!-- QUESTIONNAIRE -->
    <section id="wizard" class="hidden">
      <div class="topbar">
        <div class="progress" style="flex:1;margin-right:10px"><div class="fill" id="prog"></div></div>
<<<<<<< Updated upstream
        <div id="dots" class="chips" style="gap:8px"></div>
=======
        <div id="dots" class="chips" style="gap:6px"></div>
>>>>>>> Stashed changes
      </div>
      <div class="card slideIn" id="qCard">
        <div class="q-title" id="qTitle">Question title</div>
        <div id="qBody"></div>
<<<<<<< Updated upstream
        <div id="peek" class="card" style="margin-top:12px;background:#fff7ed;border-style:dashed">
=======
        <div id="peek" class="card" style="margin-top:10px;background:#fff7ed;border-style:dashed">
>>>>>>> Stashed changes
          <div class="meta">Live preview</div>
          <div id="peekBody" class="meta">Pick a couple options to see a suggestion‚Ä¶</div>
        </div>
        <div class="nav">
          <button class="secondary" id="back">Back</button>
          <button id="next">Next</button>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="results" class="hidden">
      <div class="card slideIn">
        <div class="q-title">Your picks</div>
        <div id="why" class="meta" style="margin-bottom:6px"></div>
        <div id="whyChips" class="chips" style="margin-top:0"></div>
        <div id="cards" class="grid" style="margin-top:8px"></div>
        <a class="menu-link" href="#" id="fullMenu">View full menu</a>
      </div>
    </section>

    <!-- MENU (compact) -->
    <section id="menu" class="hidden">
      <div class="card slideIn">
        <div class="q-title">Full Menu (mock)</div>
        <div class="chips" id="tabs"></div>
        <div id="menuList" class="grid" style="margin-top:12px"></div>
      </div>
    </section>
  </main>

  <footer>Prototype mockup ¬∑ not affiliated with Edge Rooftop</footer>
</div>

<script>
(function(){
  const $ = sel => document.querySelector(sel);
  const vibrate = (ms=12)=>{ try{ if(navigator.vibrate) navigator.vibrate(ms);}catch(e){} };

  // --- DATA -----------------------------------------------------------------
  const MENU = {
    cocktails: [
      {name:"Texas Sipper", price:16, tags:["vodka","citrus","light","bubbly","refreshing"], desc:"tito‚Äôs, elderflower, blood orange pur√©e, Topo Chico"},
      {name:"Signature Old Fashioned", price:18, tags:["whiskey","stirred","spirit-forward","classic","bitters"], desc:"Maker‚Äôs Mark, vanilla demerara, black walnut bitters"},
      {name:"Sunny Disposition", price:18, tags:["whiskey","citrus","fruit","bright"], desc:"rye, hennessy VS, blueberry, coconut, lemon"},
      {name:"Southern Belle", price:16, tags:["gin","citrus","herbal","bubbly"], desc:"Gray Whale gin, prickly pear & mint cordial, lime, yuzu soda"},
      {name:"Zilker Mule", price:16, tags:["vodka","ginger","citrus","refreshing","bubbly"], desc:"Haku vodka, mango soju cordial, lime, ginger beer"},
      {name:"Soco Marg", price:16, tags:["tequila","citrus","salt","classic"], desc:"tequila, orange, watermelon agave, lime"},
      {name:"One Flew South", price:18, tags:["mezcal","bitter","citrus","smoky"], desc:"El Tesoro, Ilegal mezcal, Suze, passionfruit, lime"},
      {name:"2nd Street Espresso Martini", price:18, tags:["vodka","coffee","sweet","creamy"], desc:"vodka, espresso liqueur, vanilla, espresso"},
      {name:"Mama Tried (Frozen)", price:15, tags:["vodka","frozen","slushy","sweet","fun"], desc:"lemon vodka, moscato, peach pur√©e, lemon"},
      {name:"El Mexicano Margarita", price:16, tags:["tequila","spicy","citrus"], desc:"jalape√±o-infused agave cordial, lime & orange"},
      {name:"Pocketful of Sunshine (NA)", price:14, tags:["na","citrus","mint","bubbly"], desc:"Ritual NA tequila, prickly pear & mint, lime, yuzu"},
      {name:"Dragon Berry Specialty (N/A)", price:12, tags:["na","tropical","sweet"], desc:"lime, orange, pineapple, dragon fruit"}
    ],
    draft: [
      {name:"ABW Pearl Snap Pilsner", price:9, tags:["beer","lager","crisp"]},
      {name:"ABW 701 Sun IPA", price:9, tags:["beer","ipa","hoppy"]},
      {name:"Zilker Icy Boys Lager", price:9, tags:["beer","lager","light"]},
      {name:"Zilker Parks & Rec Pale Ale", price:9, tags:["beer","pale","hoppy"]}
    ],
    canned: [
      {name:"Miller Light", price:8, tags:["beer","lager","light"]},
      {name:"Michelob Ultra", price:8, tags:["beer","lager","light"]},
      {name:"Live Oak Hefeweizen", price:8, tags:["beer","wheat","banana"]},
      {name:"Best Day K√∂lsch (N/A)", price:8, tags:["na","beer","kolsch"]},
      {name:"ABW Fire Eagle IPA", price:8, tags:["beer","ipa","hoppy"]},
      {name:"High Noon Black Cherry", price:8, tags:["seltzer","fruit","bubbly"]}
    ],
    wineRed:[
      {name:"Clos Du Bois Cabernet", price:14, priceBottle:56, tags:["wine","red","cabernet","smooth"]},
      {name:"Juggernaut Cabernet", price:19, priceBottle:76, tags:["wine","red","cabernet","bold"]},
      {name:"Tapiz Malbec", price:15, priceBottle:60, tags:["wine","red","malbec"]},
      {name:"Fossil Point Pinot Noir", price:14, priceBottle:56, tags:["wine","red","pinot"]},
      {name:"Banshee Red Blend", price:14, priceBottle:56, tags:["wine","red","blend"]}
    ],
    wineWhite:[
      {name:"Clos Du Bois Chardonnay", price:14, priceBottle:56, tags:["wine","white","chardonnay","buttery"]},
      {name:"Stags Leap Chardonnay", price:19, priceBottle:76, tags:["wine","white","chardonnay","rich"]},
      {name:"Scarpetta Pinot Grigio", price:14, priceBottle:56, tags:["wine","white","pinotgrigio","crisp"]},
      {name:"Whitehaven Sauvignon Blanc", price:15, priceBottle:60, tags:["wine","white","sauvblanc","zesty"]}
    ],
    bubbles:[
      {name:"Bisol Jeio Prosecco", price:14, priceBottle:56, tags:["wine","sparkling","prosecco","bubbly"]},
      {name:"Veuve Clicquot", price:150, tags:["wine","sparkling","champagne","celebration"]},
      {name:"Chandon Garden Spritz", price:17, priceBottle:68, tags:["wine","sparkling","spritz","bitter"]},
      {name:"Whispering Angel Ros√©", price:19, priceBottle:76, tags:["wine","rose","dry","light"]}
    ]
  };
  const ALL_DRINKS = [
    ...MENU.cocktails, ...MENU.draft, ...MENU.canned,
    ...MENU.wineRed, ...MENU.wineWhite, ...MENU.bubbles
<<<<<<< Updated upstream
  ];

  // --- QUESTIONS (FIXED BEHAVIOR) ------------------------------------------
  const QUESTIONS = [
    // 1) Vibe: now simple chips (no swipe), single select
    { id:"mood", title:"Pick a vibe", type:"chips", options:["refreshing","cozy","fun","adventurous","classic","zero-proof"], required:true },

    // 2) Base: multi-select (up to 3)
    { id:"base", title:"Choose your base (pick up to 3)", type:"chips", options:["vodka","tequila","whiskey","gin","mezcal","beer","wine","seltzer","na"], multi:true, max:3, required:true },

    // 3) Taste: replace ranking with "pick up to 3"
    { id:"taste", title:"Pick up to 3 tastes", type:"chips", multi:true, max:3, options:["citrus","sweet","bitter","spicy","herbal","coffee","bubbly","fruit"] },

    // 4) Strength: bigger slider handled by CSS above
    { id:"strength", title:"How strong?", type:"single", slider:true, required:true, options:[
      {label:"Light & sessionable", value:"light"},
      {label:"Balanced", value:"balanced"},
      {label:"Spirit-forward", value:"spirit-forward"}
    ]},

    // 5) Hard no's: tap to toggle (no hold)
    { id:"extras", title:"Any hard no's? (tap to toggle)", type:"chips", multi:true, options:["no coffee","no spicy","no bubbles","no bitter","no sweet"] }
  ];

=======
  ];

  const QUESTIONS = [
    { id:"mood", title:"Pick a vibe", type:"chips", options:["refreshing","cozy","fun","adventurous","classic","zero-proof"], swipe:true },
    { id:"base", title:"Base spirit?", type:"chips", options:["vodka","tequila","whiskey","gin","mezcal","beer","wine","seltzer","na"], swipe:true },
    { id:"taste", title:"Rank your tastes (top 3)", type:"chips", multi:true, options:["citrus","sweet","bitter","spicy","herbal","coffee","bubbly","fruit"], rank:true },
    { id:"strength", title:"How strong?", type:"single", slider:true, options:[
      {label:"Light & sessionable", value:"light"},
      {label:"Balanced", value:"balanced"},
      {label:"Spirit-forward", value:"spirit-forward"}
    ]},
    { id:"extras", title:"Any hard no's? (hold to exclude)", type:"chips", multi:true, options:["no coffee","no spicy","no bubbles","no bitter","no sweet"], hold:true }
  ];

  // Details for flip-back (per option)
  const DETAILS = {
    mood: {
      refreshing: "citrus ‚Ä¢ bubbly ‚Ä¢ light ¬∑ spritzes, pilsners",
      cozy: "whiskey ‚Ä¢ espresso ‚Ä¢ spirit-forward ¬∑ stirred classics",
      fun: "frozen ‚Ä¢ fruity ‚Ä¢ sweet ¬∑ slushies & seltzers",
      adventurous: "mezcal ‚Ä¢ bitter ‚Ä¢ spicy ¬∑ amaro & smoke",
      classic: "old fashioned ‚Ä¢ margarita ‚Ä¢ prosecco ¬∑ timeless",
      "zero-proof": "NA spirits ‚Ä¢ citrus ‚Ä¢ mint ¬∑ yuzu sodas"
    },
    base: {
      vodka: "Clean & neutral ¬∑ great with citrus & bubbles",
      tequila: "Citrus-friendly ¬∑ classic + spicy margs",
      whiskey: "Stirred, boozy, cozy ¬∑ old fashioneds",
      gin: "Herbal & bright ¬∑ pairs with citrus & mint",
      mezcal: "Smoky & adventurous ¬∑ bitter & citrus",
      beer: "Crisp lagers, hoppy IPAs, wheat ales",
      wine: "By the glass or bottle ¬∑ reds, whites, ros√©, bubbles",
      seltzer: "Light & fruity ¬∑ low effort, bubbly",
      na: "Zero-proof spirits ¬∑ bright & refreshing"
    }
  };

>>>>>>> Stashed changes
  // --- APP STATE ------------------------------------------------------------
  const App = window.App = {
    q: { step:0, answers:{} },
    show(section){
      ["landing","wizard","results","menu"].forEach(s => $("#"+s).classList.add("hidden"));
      $("#"+section).classList.remove("hidden");
    },
<<<<<<< Updated upstream
    start(prefill = {}){ 
      this.q = { step:0, answers: {strength:"balanced", ...prefill} };
=======
    // accepts optional prefilled answers
    start(prefill = {}){ 
      this.q = { step:0, answers: prefill };
>>>>>>> Stashed changes
      this.show("wizard"); 
      this.renderQuestion(true); 
      toastOnce(); 
    },
    back(){
      if(this.q.step>0){
        this.animateCardOut(()=>{ this.q.step--; this.renderQuestion(); });
      } else { this.show("landing"); }
    },
    next(){
      if(this.q.step < QUESTIONS.length-1){
        this.animateCardOut(()=>{ this.q.step++; this.renderQuestion(); });
      } else { this.show("results"); this.runMatch(); burst(); }
    },
    showMenu(cat){ this.show("menu"); this.renderMenu(cat||"cocktails"); },
    animateCardOut(cb){
      const card = $("#qCard");
      card.classList.remove("slideIn");
      card.classList.add("slideOut");
      window.setTimeout(()=>{ card.classList.remove("slideOut"); cb(); }, 190);
    },
    renderDots(){
      const d=$("#dots"); d.innerHTML="";
      QUESTIONS.forEach((_,i)=>{
        const b=document.createElement("div"); b.className="dot"; b.textContent=i+1;
        b.dataset.active = i===this.q.step;
        b.onclick=()=>{ this.q.step=i; this.renderQuestion(true); };
        d.appendChild(b);
      });
    },
    renderQuestion(initial){
      $("#prog").style.width = (this.q.step)/QUESTIONS.length*100 + "%";
      this.renderDots();
      const item = QUESTIONS[this.q.step];
      $("#qTitle").textContent = item.title;
      const body = $("#qBody"); body.innerHTML = "";
      const card = $("#qCard");
      if(!initial){ card.classList.add("slideIn"); setTimeout(()=>card.classList.remove("slideIn"), 260); }
<<<<<<< Updated upstream

      // NOTE: removed swipe for vibe; generic chips renderer covers it
      if(item.slider){
        const slider = document.createElement('input');
        slider.type='range'; slider.min=0; slider.max=2; slider.step=1;
        slider.value={light:0,balanced:1,"spirit-forward":2}[this.q.answers.strength] ?? 1;
        const lab = document.createElement('div'); lab.className='meta'; lab.id='strengthLabel'; lab.style.marginTop='8px';
        const labels=[["Light & sessionable","üòå"],["Balanced","üôÇ"],["Spirit-forward","üòÆ‚Äçüí®"]];
        const update=()=>{ const v=+slider.value; lab.textContent=labels[v][0]+" "+labels[v][1];
          this.q.answers.strength=["light","balanced","spirit-forward"][v]; updatePeek(); vibrate(8);}
        slider.oninput=update; body.appendChild(slider); body.appendChild(lab); update();
        this.navState(item); return;
      }

      // generic chips (supports multi & max; simple tap for Q5)
      if(item.type==="chips"){
        const wrap = document.createElement("div"); wrap.className="chips";
        const selected = new Set(Array.isArray(this.q.answers[item.id]) ? this.q.answers[item.id] : (this.q.answers[item.id] ? [this.q.answers[item.id]] : []));
        item.options.forEach(opt=>{
          const div = document.createElement("button");
          div.className="chip"; div.type="button"; div.textContent=opt;
          const active = selected.has(opt);
          div.dataset.active = active;
          div.addEventListener("click",()=>{
            if(item.multi){
              if(selected.has(opt)){ selected.delete(opt); }
              else{
                if(item.max && selected.size>=item.max){ flash(`Max ${item.max}`); return; }
                selected.add(opt);
              }
              this.q.answers[item.id]=[...selected];
            } else {
              this.q.answers[item.id] = (this.q.answers[item.id]===opt) ? null : opt;
            }
            vibrate();
            this.renderQuestion();
          });
          wrap.appendChild(div);
        });
        body.appendChild(wrap);
        if(item.multi){
          const c=document.createElement('div');
          c.className='meta'; c.style.marginTop='6px';
          c.textContent=`Selected ${selected.size}${item.max?` / ${item.max}`:""}`;
          body.appendChild(c);
        }
      }

      updatePeek();
      this.navState(item);
    },
    navState(item){
      // basic validation so Next is enabled only when needed answers chosen
      let ok=true;
      if(item && item.required){
        const v=this.q.answers[item.id];
        if(item.type==="chips" && item.multi) ok = Array.isArray(v)&&v.length>0;
        else if(item.slider) ok = !!this.q.answers.strength;
        else ok = !!v;
      }
      $("#back").disabled = this.q.step===0;
      $("#next").disabled = !ok;
=======

      // special renderers
      if(item.swipe && !item.multi){
        const stack = document.createElement('div'); stack.className='stack'; body.appendChild(stack);
        // pass details map based on question id
        const det = DETAILS[item.id] || {};
        mountSwipeStack(stack, item.options, (opt, liked)=>{
          if(liked){ this.q.answers[item.id]=opt; vibrate(); this.next(); }
        }, det);
        updatePeek();
        this.navState(); return;
      }
      if(item.rank){
        const wrap = document.createElement('div'); body.appendChild(wrap);
        mountRankChips(wrap, item.options, ranked=>{
          this.q.answers.taste = ranked.slice(0,3);
          updatePeek();
        });
        const hint = document.createElement('div'); hint.className='meta'; hint.style.marginTop='8px';
        hint.textContent = 'Drag to rank. We‚Äôll use your top 3.';
        body.appendChild(hint);
        this.navState(); return;
      }
      if(item.slider){
        const slider = document.createElement('input');
        slider.type='range'; slider.min=0; slider.max=2; slider.step=1; slider.value={light:0,balanced:1,"spirit-forward":2}[this.q.answers.strength] ?? 1;
        const lab = document.createElement('div'); lab.className='meta'; lab.id='strengthLabel'; lab.style.marginTop='6px';
        const labels=[["Light & sessionable","üòå"],["Balanced","üôÇ"],["Spirit-forward","üòÆ‚Äçüí®"]];
        const update=()=>{ const v=+slider.value; lab.textContent=labels[v][0]+" "+labels[v][1];
          this.q.answers.strength=["light","balanced","spirit-forward"][v]; updatePeek(); vibrate(8);}
        slider.oninput=update; body.appendChild(slider); body.appendChild(lab); update();
        this.navState(); return;
      }
      // generic chips (with optional hold-to-exclude)
      if(item.type==="chips"){
        const wrap = document.createElement("div"); wrap.className="chips";
        item.options.forEach(opt=>{
          const div = document.createElement("button");
          div.className="chip"; div.type="button"; div.textContent=opt;
          const v = this.q.answers[item.id]|| (item.multi?[]:null);
          const active = item.multi ? v.includes(opt) : v===opt;
          div.dataset.active = active;
          let holdTimer=null;
          div.addEventListener("pointerdown",()=>{
            if(item.hold){ holdTimer=setTimeout(()=>{ 
              if(item.multi){
                const set=new Set(this.q.answers[item.id]||[]);
                set.has(opt)?set.delete(opt):set.add(opt);
                this.q.answers[item.id]=[...set];
              } else { this.q.answers[item.id]=opt; }
              vibrate(40); this.renderQuestion(true);
            },500); }
          });
          div.addEventListener("pointerup",()=>{ if(holdTimer) clearTimeout(holdTimer); });
          div.addEventListener("click",()=>{
            if(item.hold) return; 
            if(item.multi){
              const arr = new Set(this.q.answers[item.id]||[]);
              if(arr.has(opt)) arr.delete(opt); else arr.add(opt);
              this.q.answers[item.id] = [...arr];
            }else{
              this.q.answers[item.id] = (this.q.answers[item.id]===opt) ? null : opt;
            }
            vibrate();
            this.renderQuestion();
          });
          wrap.appendChild(div);
        });
        body.appendChild(wrap);
      }
      updatePeek();
      this.navState();
    },
    navState(){
      $("#back").disabled = this.q.step===0;
>>>>>>> Stashed changes
      $("#next").textContent = this.q.step===QUESTIONS.length-1 ? "See results" : "Next";
    },
    scoreDrink(d){
      let score = 0, why = [];
      const ans = this.q.answers; const tags = (d.tags||[]);
      const moodMap = {
        refreshing:["citrus","bubbly","light","lager","seltzer","na"],
        cozy:["whiskey","spirit-forward","stirred","espresso","malbec","pinot"],
        fun:["frozen","slushy","fruit","sweet","seltzer"],
        adventurous:["mezcal","bitter","spicy","spritz"],
        classic:["old fashioned","margarita","cabernet","sauvblanc","prosecco"],
        "zero-proof":["na"]
      };
<<<<<<< Updated upstream
      // base: now multi
      (ans.base||[]).forEach(b=>{ if(tags.includes(b)) { score+=22; why.push("base: "+b); }});
      if((ans.base||[]).includes("wine") && tags.includes("wine")) { score+=18; }
      if((ans.base||[]).includes("beer") && tags.includes("beer")) { score+=18; }
      if((ans.base||[]).includes("seltzer") && tags.includes("seltzer")) { score+=18; }
      if((ans.base||[]).includes("na") && tags.includes("na")) { score+=22; }

=======
      if(ans.base && tags.includes(ans.base)) { score+=30; why.push("base: "+ans.base); }
      if(ans.base==="wine" && tags.includes("wine")) { score+=25; why.push("wine"); }
      if(ans.base==="beer" && tags.includes("beer")) { score+=25; why.push("beer"); }
      if(ans.base==="seltzer" && tags.includes("seltzer")) { score+=25; why.push("seltzer"); }
      if(ans.base==="na" && tags.includes("na")) { score+=30; why.push("zero-proof"); }
>>>>>>> Stashed changes
      (ans.taste||[]).forEach(t=>{ if(tags.includes(t)) { score+=10; why.push(t); } });
      if(ans.strength){
        if(ans.strength==="light" && (tags.includes("light")||tags.includes("bubbly"))) { score+=8; }
        if(ans.strength==="spirit-forward" && tags.includes("spirit-forward")) { score+=12; }
        if(ans.strength==="balanced") { score+=6; }
      }
      if(ans.mood){
<<<<<<< Updated upstream
        const m = moodMap[ans.mood] || [];
        if(m.some(t=>tags.includes(t))) { score+=10; why.push(ans.mood); }
=======
        const m = (DETAILS.mood && DETAILS.mood[ans.mood]) ? ans.mood : null;
        if(m){ score+=10; why.push(ans.mood); }
>>>>>>> Stashed changes
      }
      (ans.extras||[]).forEach(x=>{
        if(x==="no coffee" && tags.includes("coffee")) score-=25;
        if(x==="no spicy" && tags.includes("spicy")) score-=25;
        if(x==="no bubbles" && tags.includes("bubbly")) score-=18;
        if(x==="no bitter" && tags.includes("bitter")) score-=18;
        if(x==="no sweet" && tags.includes("sweet")) score-=10;
      });
      return {score, why};
    },
    runMatch(){
      const ranked = ALL_DRINKS
        .map(d=>{ const {score, why}=this.scoreDrink(d); return {...d, score, why}; })
        .sort((a,b)=>b.score-a.score);
      const top = ranked.slice(0,3);
      const reasons = Object.entries(this.q.answers)
        .filter(([k,v])=>v && (Array.isArray(v)?v.length:v))
        .map(([k,v])=>`${k}: ${Array.isArray(v)?v.join(", "):v}`)
        .join(" ¬∑ ");
      $("#why").textContent = "Based on " + (reasons||"your selections");

      // why chips
      $("#whyChips").innerHTML="";
      Object.entries(this.q.answers).forEach(([k,v])=>{
        const arr = Array.isArray(v)?v:[v];
        arr.filter(Boolean).forEach(val=>{
          const s=document.createElement('span'); s.className='chip'; s.textContent=val; s.style.animation='fadeUp .3s ease';
          $("#whyChips").appendChild(s);
        });
      });

      const wrap = $("#cards"); wrap.innerHTML="";
      top.forEach(d=>{
        const div = document.createElement("div");
        div.className="result";
        const badge = (d.tags||[]).includes("na") ? "Zero-proof" :
                      (d.tags||[]).includes("wine") ? "Wine" :
                      (d.tags||[]).includes("beer") ? "Beer" : "Cocktail";
        div.innerHTML = `
          <div class="avatar">üç∏</div>
          <div>
            <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
<<<<<<< Updated upstream
              <div><b style="font-size:18px">${d.name}</b></div>
=======
              <div><b>${d.name}</b></div>
>>>>>>> Stashed changes
              <span class="badge">${badge}</span>
              <span class="price">$${d.price}${d.priceBottle?` ¬∑ bottle $${d.priceBottle}`:""}</span>
            </div>
            <div class="meta" style="margin:6px 0">${d.desc||(d.tags||[]).join(" ‚Ä¢ ")}</div>
            <div class="scorebar"><span style="width:${Math.max(0,Math.min(100, 50 + d.score))}%"></span></div>
            <div class="meta" style="margin-top:6px">Why: ${d.why.slice(0,4).join(", ")}</div>
          </div>`;
        wrap.appendChild(div);
      });
    },
    renderMenu(category="cocktails"){
      const groups = {cocktails:"Cocktails",draft:"Draft Beer",canned:"Canned",wineRed:"Red Wine",wineWhite:"White Wine",bubbles:"Sparkling + Ros√©"};
      const tabs = $("#tabs"); tabs.innerHTML="";
      Object.keys(groups).forEach(key=>{
        const b = document.createElement("button");
        b.className="chip"; b.textContent=groups[key];
        b.dataset.active = key===category;
        b.onclick=()=>{bop(); this.renderMenu(key);};
        tabs.appendChild(b);
      });
      const list = $("#menuList"); list.innerHTML="";
      (MENU[category]||[]).forEach(d=>{
        const row = document.createElement("div");
        row.className="choice";
        row.innerHTML = `<div><b>${d.name}</b><div class="meta">${d.desc|| (d.tags||[]).join(" ‚Ä¢ ")}</div></div>
                         <div style="display:grid; text-align:right"><span class="price">$${d.price}</span>${d.priceBottle?`<span class="meta">Bottle $${d.priceBottle}</span>`:""}</div>`;
        list.appendChild(row);
      });
    }
  };

<<<<<<< Updated upstream
  // --- HELPERS (preview, confetti, gestures, toast) ------------------------
=======
  // --- HELPERS: swipe cards (with flip), rank chips, preview, confetti -----
  function mountSwipeStack(el, options, onChoice, detailsMap={}){
    el.innerHTML='';
    [...options].reverse().forEach(opt=>{
      const wrap = document.createElement('div'); wrap.className='cardOpt';
      const inner = document.createElement('div'); inner.className='cardInner';
      const front = document.createElement('div'); front.className='cardFace cardFront';
      const back = document.createElement('div'); back.className='cardFace cardBack';

      const badge = document.createElement('div'); badge.className='badge2'; badge.textContent='Swipe ‚Üê / ‚Üí';
      const flipHint = document.createElement('div'); flipHint.className='hintFlip'; flipHint.textContent='Tap to flip';

      front.innerHTML = `<div style="font-size:28px;font-weight:800;text-transform:capitalize">${opt}</div>`;
      front.appendChild(badge); front.appendChild(flipHint);

      back.innerHTML = `<div style="font-size:15px;line-height:1.3">
        <div style="font-weight:700;margin-bottom:6px">${opt}</div>
        <div class="meta">${detailsMap[opt] || "Explore this option"}</div>
      </div>`;

      inner.appendChild(front); inner.appendChild(back);
      wrap.appendChild(inner); el.appendChild(wrap);

      let sx,sy,x=0,y=0; let active=false; let moved=false;
      wrap.addEventListener('pointerdown',e=>{active=true;moved=false;sx=e.clientX;sy=e.clientY;wrap.setPointerCapture(e.pointerId)});
      wrap.addEventListener('pointermove',e=>{
        if(!active) return; x=e.clientX-sx; y=e.clientY-sy; if(Math.abs(x)>4||Math.abs(y)>4) moved=true;
        wrap.style.transform=`translate(${x}px,${y}px) rotate(${x/18}deg)`;
        wrap.classList.toggle('like',x>50); wrap.classList.toggle('nope',x<-50);
      });
      wrap.addEventListener('pointerup',()=>{
        if(!active) return; active=false;
        // tap ‚Üí flip (no big movement)
        if(!moved && Math.abs(x)<8 && Math.abs(y)<8){
          wrap.classList.toggle('flip');
          return;
        }
        // swipe decision
        if(Math.abs(x)>80){
          const liked = x>0;
          wrap.style.transition='transform .25s ease';
          wrap.style.transform=`translate(${liked?600:-600}px,${y}px) rotate(${x/12}deg)`;
          setTimeout(()=>{wrap.remove(); onChoice(opt, liked)},220);
        }else{
          wrap.style.transition='transform .2s ease'; wrap.style.transform='translate(0,0)';
          wrap.classList.remove('like','nope'); setTimeout(()=>wrap.style.transition='',200);
        }
      });
    });
  }

  function mountRankChips(container, options, onDone){
    container.className='rank';
    options.forEach(opt=>{
      const b=document.createElement('button'); b.className='chip'; b.textContent=opt;
      container.appendChild(b);
      let sx,sy; let dragging=false;
      b.addEventListener('pointerdown',e=>{
        dragging=true; sx=e.clientX; sy=e.clientY; b.setPointerCapture(e.pointerId);
        b.style.position='relative'; b.style.zIndex=2;
      });
      b.addEventListener('pointermove',e=>{
        if(!dragging) return;
        const dx=e.clientX-sx, dy=e.clientY-sy;
        b.style.transform=`translate(${dx}px,${dy}px)`;
        const siblings=[...container.children].filter(n=>n!==b);
        siblings.forEach(s=>{
          const r=s.getBoundingClientRect(), br=b.getBoundingClientRect();
          if(Math.abs(br.left - r.left) < s.offsetWidth/2 && Math.abs(br.top - r.top) < s.offsetHeight/2){
            if(br.top < r.top) container.insertBefore(b,s); else container.insertBefore(b,s.nextSibling);
          }
        });
      });
      b.addEventListener('pointerup',()=>{
        if(!dragging) return; dragging=false;
        b.style.position=''; b.style.transform=''; b.style.zIndex='';
        onDone([...container.children].map(n=>n.textContent));
      });
    });
  }

>>>>>>> Stashed changes
  const _score = App.scoreDrink.bind(App);
  function updatePeek(){
    const top = ALL_DRINKS.map(d=>({d, ..._score(d)})).sort((a,b)=>b.score-a.score)[0];
    $("#peekBody").innerHTML = top ? `<b>${top.d.name}</b> ¬∑ $${top.d.price}<div class="meta">${(top.d.tags||[]).join(" ‚Ä¢ ")}</div>` : "‚Äî";
  }
  function bop(ms=12){ try{ if(navigator.vibrate) navigator.vibrate(ms);}catch(e){} }

  // confetti
  const c = document.getElementById("confetti"), ctx = c.getContext("2d");
  let P=[]; function resize(){ c.width=window.innerWidth; c.height=window.innerHeight }
  resize(); window.addEventListener("resize",resize);
  function burst(){
    for(let i=0;i<90;i++){
      P.push({x:c.width/2,y:120+Math.random()*40, vx:(Math.random()-0.5)*6, vy:(Math.random()*-6-3), r:2+Math.random()*3, a:1, h:Math.random()*360});
    }
    if(!anim) anim = requestAnimationFrame(loop);
  }
  let anim=null;
  function loop(){
    ctx.clearRect(0,0,c.width,c.height);
    P.forEach(p=>{
      p.vy+=0.12; p.x+=p.vx; p.y+=p.vy; p.a-=0.008;
      ctx.fillStyle=`hsla(${p.h},80%,60%,${Math.max(0,p.a)})`;
      ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
    });
    P = P.filter(p=>p.a>0 && p.y<c.height+10);
    if(P.length){ anim = requestAnimationFrame(loop);} else { cancelAnimationFrame(anim); anim=null; }
  }
  window.burst = burst;

  // swipe next/back on the whole app (wizard only)
  let sx=0, sy=0;
  const area = document.getElementById("app");
  area.addEventListener("touchstart",(e)=>{ const t=e.changedTouches[0]; sx=t.clientX; sy=t.clientY; });
  area.addEventListener("touchend",(e)=>{
    const t=e.changedTouches[0]; const dx=t.clientX-sx, dy=t.clientY-sy;
<<<<<<< Updated upstream
    if(Math.abs(dx)>70 && Math.abs(dy)<60 && !$("#wizard").classList.contains("hidden")){
=======
    if(Math.abs(dx)>60 && Math.abs(dy)<50 && !$("#wizard").classList.contains("hidden")){
>>>>>>> Stashed changes
      if(dx<0) App.next(); else App.back();
    }
  });

  // keyboard shortcuts
  document.addEventListener('keydown',(e)=>{
    if($("#wizard").classList.contains("hidden")) return;
<<<<<<< Updated upstream
    if(e.key==="ArrowRight"||e.key==="Enter") App.next();
    if(e.key==="ArrowLeft") App.back();
  });

=======
    if(e.key==="ArrowRight") App.next();
    if(e.key==="ArrowLeft") App.back();
    if(e.key==="Enter") App.next();
  });

  // one-time toast
>>>>>>> Stashed changes
  function toastOnce(){
    if(localStorage.getItem("df_toast")) return;
    const t = $("#toast"); t.classList.add("show");
    setTimeout(()=>t.classList.remove("show"), 2400);
    localStorage.setItem("df_toast","1");
  }
<<<<<<< Updated upstream
  function flash(msg){
    const t=$("#toast");
    t.textContent=msg; t.classList.add("show");
    setTimeout(()=>{t.classList.remove("show"); t.textContent="Tip: Swipe ‚ü∂ Next, ‚üµ Back"},1200);
  }
=======
>>>>>>> Stashed changes

  // --- EVENTS ---------------------------------------------------------------
  document.getElementById("start").addEventListener("click",()=>{ App.start(); bop(); });
  document.getElementById("skip").addEventListener("click",()=>{ App.showMenu("cocktails"); bop(); });
  document.getElementById("back").addEventListener("click",()=>{ App.back(); bop(8); });
  document.getElementById("next").addEventListener("click",()=>{ App.next(); bop(); });
  document.getElementById("fullMenu").addEventListener("click",(e)=>{ e.preventDefault(); App.showMenu("cocktails"); bop(); });

  // Surprise me ‚Üí prefill answers and start with them
  document.getElementById("dice").addEventListener("click", () => {
    const prefill = {
      mood: ["refreshing","fun","classic","adventurous"][Math.floor(Math.random()*4)],
<<<<<<< Updated upstream
      base: ["tequila","vodka","whiskey","wine","na","gin"].slice(0, 1 + Math.floor(Math.random()*3)),
=======
      base: ["tequila","vodka","whiskey","wine","na","gin"][Math.floor(Math.random()*6)],
>>>>>>> Stashed changes
      taste: ["citrus","bubbly","fruit","sweet","herbal"].slice(0, 1 + Math.floor(Math.random()*3)),
      strength: ["light","balanced","spirit-forward"][Math.floor(Math.random()*3)]
    };
    App.start(prefill);
  });

  // init
  App.show("landing");
})();
</script>
</body>
</html>
